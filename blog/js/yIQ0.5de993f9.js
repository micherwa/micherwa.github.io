(window.webpackJsonp=window.webpackJsonp||[]).push([["yIQ0"],{yIQ0:function(s,a,t){"use strict";t.r(a);var r={},l=t("psIG"),v=Object(l.a)(r,function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"blog-container"},[t("BlogHeader"),s._v(" "),t("BlogContent",{attrs:{useCatalog:!0}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("h2",[s._v("前言")]),s._v(" "),t("p",[s._v("这是前端面试题系列的第 8 篇，你可能错过了前面的篇章，可以在这里找到：")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"",target:"_blank"}},[s._v("浏览器中的事件机制（涉及主流框架）")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/post/5c677041f265da2de25b7707",target:"_blank"}},[s._v("理解函数的柯里化")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/post/5c612a60f265da2da15d9986",target:"_blank"}},[s._v("ES6 中箭头函数的用法")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/post/5c428ce0f265da612b13dca7",target:"_blank"}},[s._v("this 的原理以及用法")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/post/5c36fd0f6fb9a049cd5465cd",target:"_blank"}},[s._v("伪类与伪元素的区别及实战")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/post/5c394fece51d45524c7cc712",target:"_blank"}},[s._v("如何实现一个圣杯布局？")])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://juejin.im/post/5c394da4518825253661bd4d",target:"_blank"}},[s._v("今日头条 面试题和思路解析")])])]),s._v(" "),t("p",[s._v("\n                前端面试中常会问到数组去重的问题。但在平时的工作中，后端同学会处理好了给我们，一般不用我们操心。但难免会遇到疏漏，又或者我们在处理复杂交互时，还是会遇到需要去重的情况。\n            ")]),s._v(" "),t("p",[s._v("\n                我在问数组去重的时候，更多的是想考察应聘者 2 个点：对 Array 方法的熟悉程度，还有算法能力。一般我会先让应聘者说出几种方法，然后随机抽取他说的一种，让他具体地写一下。\n            ")]),s._v(" "),t("p",[s._v("\n                所以，这里有一个通用的面试技巧：自己不熟悉的东西，千万别说！我就碰到过几个应聘者，一开始只说了两种方法。我随口问还有别的么？他想了一会儿，又说了一种，我就让他写，结果就没写出来，好尴尬。如果他说没有了，那我就会让他自己写最开始的方法了。\n            ")]),s._v(" "),t("p",[s._v("\n                ok，让我们马上开始今天的主题。会介绍 9 种不同类型的方法，一些类似的方法做了合并，写法从简到繁。\n            ")]),s._v(" "),t("h2",[s._v("数组的去重")]),s._v(" "),t("p",[s._v("\n                假设有一个这样的数组： "),t("code",[s._v("let originalArray = [1, '1', '1', 2,  true, 'true', false, false, null, null, {}, {}, 'abc', 'abc', undefined, undefined, NaN, NaN];")]),s._v("。\n            ")]),s._v(" "),t("h4",[s._v("1、ES6 的 Set 对象")]),s._v(" "),t("p",[s._v("\n                ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。Set 本身是一个构造函数，用来生成 Set 数据结构。\n                "),t("pre",{staticClass:"hljs coffeescript"},[t("code",{},[s._v("let resultArr = Array."),t("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v("("),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Set(originalArray));"),t("br"),t("br"),t("span",{staticClass:"hljs-regexp"},[s._v("//")]),s._v(" 或者用扩展运算符"),t("br"),s._v("let resultArr = [..."),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Set(originalArray)];"),t("br"),t("br"),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(resultArr);"),t("br"),t("span",{staticClass:"hljs-regexp"},[s._v("//")]),s._v(" ["),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", "),t("span",{staticClass:"hljs-string"},[s._v('"1"')]),s._v(", "),t("span",{staticClass:"hljs-number"},[s._v("2")]),s._v(", "),t("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(", "),t("span",{staticClass:"hljs-string"},[s._v('"true"')]),s._v(", "),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(", "),t("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v(", {…}, {…}, "),t("span",{staticClass:"hljs-string"},[s._v('"abc"')]),s._v(", "),t("span",{staticClass:"hljs-literal"},[s._v("undefined")]),s._v(", NaN]")])]),s._v("\n                Set 并不是真正的数组，这里的 "),t("code",[s._v("Array.from")]),s._v(" 和 "),t("code",[s._v("...")]),s._v(" 都可以将 Set 数据结构，转换成最终的结果数组。\n            ")]),s._v(" "),t("p",[s._v("\n                这是最简单快捷的去重方法，但有一个问题 "),t("code",[s._v("{}")]),s._v(" 没有去重，为什么没法去重对象呢？因为它们的地址不一样呗，尽管它们长得一样，都是空对象。不要担心，后面会有方法可以解决。\n            ")]),s._v(" "),t("h2",[s._v("es5的indexOf方法")]),s._v(" "),t("p",[t("pre",{staticClass:"hljs javascript"},[t("code",{},[t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" "),t("span",{staticClass:"hljs-keyword"},[s._v("newArr")]),s._v(" = [arr["),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("]];"),t("br"),t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v("(let i="),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("; i< arr.length; i++) {"),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(".indexOf(arr[i]) == "),t("span",{staticClass:"hljs-number"},[s._v("-1")]),s._v("){"),t("br"),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(".push(arr[i]);"),t("br"),s._v("    }"),t("br"),s._v("}"),t("br"),s._v("console.log("),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(");")])])]),s._v(" "),t("h2",[s._v("includes")]),s._v(" "),t("p",[t("pre",{staticClass:"hljs javascript"},[t("code",{},[s._v("let "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(" = [];"),t("br"),t("br"),t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v(" (let i="),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("; i < arr.length; i++) {"),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (!"),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(".includes(arr[i])) {"),t("br"),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(".push(arr[i]);"),t("br"),s._v("    }"),t("br"),s._v("}"),t("br"),t("br"),s._v("console.log("),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(");")])])]),s._v(" "),t("h2",[s._v("对象属性不能相同的特性")]),s._v(" "),t("p",[s._v("\n                每次取出原数组的元素，然后再对象中访问这个属性，如果存在就说明重复\n                "),t("pre",{staticClass:"hljs javascript"},[t("code",{},[t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(" = [];"),t("br"),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" json = {};"),t("br"),t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v("("),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" i="),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("; i<arr.length; i++){"),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v("(!json[arr[i]]){"),t("br"),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(".push(arr[i]);"),t("br"),s._v("        json[arr[i]] = "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(";"),t("br"),s._v("    }"),t("br"),s._v("}"),t("br"),s._v("console.log("),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(");")])])]),s._v(" "),t("h2",[s._v("filter + hasOwnProperty")]),s._v(" "),t("p",[s._v("\n                filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。再利用 hasOwnProperty 判断是否存在对象属性。\n                "),t("pre",{staticClass:"hljs javascript"},[t("code",{},[t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" obj = {};"),t("br"),t("br"),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" newArr = arr.filter("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("item, index, arr")]),s._v(") ")]),s._v("{"),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" obj.hasOwnProperty("),t("span",{staticClass:"hljs-keyword"},[s._v("typeof")]),s._v(" item + item) ? "),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(" : (obj["),t("span",{staticClass:"hljs-keyword"},[s._v("typeof")]),s._v(" item + item] = "),t("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(");"),t("br"),s._v("});"),t("br"),t("br"),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(newArr);")])])]),s._v(" "),t("h2",[s._v("利用Map的has方法")]),s._v(" "),t("p",[s._v("\n                把源数组的每一个元素作为key存到Map中。由于Map中不会出现相同的key值，所以最终得到的就是去重后的结果。\n                "),t("pre",{staticClass:"hljs haxe"},[t("code",{},[s._v("let map = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" "),t("span",{staticClass:"hljs-type"},[s._v("Map")]),s._v("();"),t("br"),s._v("let "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(" = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" "),t("span",{staticClass:"hljs-type"},[s._v("Array")]),s._v("();"),t("br"),t("br"),t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v(" (let i="),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("; i < arr.length; i++) {"),t("br"),s._v("    "),t("span",{staticClass:"hljs-comment"},[s._v("// 如果有该key值")]),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (map.has(arr[i])) {"),t("br"),s._v("        map."),t("span",{staticClass:"hljs-keyword"},[s._v("set")]),s._v("(arr[i], "),t("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(");"),t("br"),s._v("    } "),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v(" {"),t("br"),s._v("        "),t("span",{staticClass:"hljs-comment"},[s._v("// 没有该key值")]),t("br"),s._v("        map."),t("span",{staticClass:"hljs-keyword"},[s._v("set")]),s._v("(arr[i], "),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(");"),t("br"),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(".push(arr[i]);"),t("br"),s._v("    }"),t("br"),s._v("}"),t("br"),t("br"),s._v("console.log("),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(");")])])]),s._v(" "),t("h2",[s._v("排序去重")]),s._v(" "),t("p",[s._v("\n                先将原数组排序，在与相邻的进行比较，如果不同则存入新数组\n                "),t("pre",{staticClass:"hljs javascript"},[t("code",{},[t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" arr2 = arr.sort();"),t("br"),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(" = [arr2["),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("]];"),t("br"),t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v("(let i="),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("; i < arr2.length; i++){"),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v("(arr2[i] !== res[res.length"),t("span",{staticClass:"hljs-number"},[s._v("-1")]),s._v("]){"),t("br"),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(".push(arr2[i]);"),t("br"),s._v("    }"),t("br"),s._v("}"),t("br"),s._v("console.log("),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(");")])])]),s._v(" "),t("h2",[s._v("for嵌套for，然后splice去重")]),s._v(" "),t("p",[s._v("\n                双层循环，外层循环元素，内层循环时比较值。值相同时，则删去这个值。\n                "),t("pre",{staticClass:"hljs javascript"},[t("code",{},[t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v(" ("),t("span",{staticClass:"hljs-built_in"},[s._v("let")]),s._v(" i="),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("; i < arr."),t("span",{staticClass:"hljs-built_in"},[s._v("length")]),s._v("; i++) {"),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v(" ("),t("span",{staticClass:"hljs-built_in"},[s._v("let")]),s._v(" j=i+"),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("; j < arr."),t("span",{staticClass:"hljs-built_in"},[s._v("length")]),s._v("; j++) {"),t("br"),s._v("        // 第一个等于第二个，"),t("span",{staticClass:"hljs-built_in"},[s._v("splice")]),s._v("去掉第二个"),t("br"),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (arr[i] === arr[j]) {"),t("br"),s._v("            arr."),t("span",{staticClass:"hljs-built_in"},[s._v("splice")]),s._v("(j, "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(");"),t("br"),s._v("            j--;"),t("br"),s._v("        }"),t("br"),s._v("    }"),t("br"),s._v("}"),t("br"),t("br"),s._v("console."),t("span",{staticClass:"hljs-built_in"},[s._v("log")]),s._v("(arr);")])])]),s._v(" "),t("h2",[s._v("原始去重")]),s._v(" "),t("p",[s._v("\n                定义一个新数组，并存放原数组的第一个元素，然后将原数组一一和新数组的元素对比，若不同则存放在新数组中\n                "),t("pre",{staticClass:"hljs javascript"},[t("code",{},[s._v("let "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(" = [arr["),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("]];"),t("br"),t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v("("),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" i="),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("; i < arr.length; i++){"),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" repeat = "),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(";"),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v("("),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" j="),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("; j < "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(".length; j++){"),t("br"),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v("(arr[i] == "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v("[j]){"),t("br"),s._v("            repeat = "),t("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(";"),t("br"),s._v("            "),t("span",{staticClass:"hljs-keyword"},[s._v("break")]),s._v(";"),t("br"),s._v("        }"),t("br"),s._v("    }"),t("br"),t("br"),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v("(!repeat){"),t("br"),s._v("       "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(".push(arr[i]);"),t("br"),s._v("    }"),t("br"),s._v("}"),t("br"),s._v("console.log("),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),t("span",{staticClass:"hljs-type"},[s._v("Arr")]),s._v(");")])])])])])],1)},[],!1,null,null,null);v.options.__file="array-de-duplicate.vue";a.default=v.exports}}]);